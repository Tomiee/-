webpackJsonp([4],{"0C+S":function(e,t){},NW8W:function(e,t){},TFhR:function(e,t,i){"use strict";var n={hotLists:"index/hotLists",banner:"index/banner",category:"category/topList",rank:"category/rank",subList:"category/subList",searchList:"search/list",goodsDetails:"goods/details",goodsDeals:"goods/deal",addCart:"cart/add",cartLists:"cart/list",cartReduce:"cart/reduce",cartRemove:"cart/remove",cartMremove:"cart/mrremove",addressLists:"address/list",addressAdd:"address/add",addressRemove:"address/remove",addressUpdate:"address/update",addressSetDefault:"address/setDefault"};for(var o in n)n.hasOwnProperty(o)&&(n[o]="http://rap2api.taobao.org/app/mock/7058/"+n[o]);t.a=n},"U/rD":function(e,t,i){"use strict";var n=i("mw3O"),o=i.n(n).a.parse(location.search.substr(1)).index,s=[{name:"有赞",icon:"icon-home",href:"index.html"},{name:"分类",icon:"icon-category",href:"category.html"},{name:"购物车",icon:"icon-cart",href:"cart.html"},{name:"我",icon:"icon-user",href:"member.html"}],r={data:function(){return{curIndex:parseInt(o)||0,navConfig:s}},methods:{change:function(e,t){location.href=e.href+"?index="+t}}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bottom-nav"},[i("ul",e._l(e.navConfig,function(t,n){return i("li",{key:n,class:{active:e.curIndex==n},on:{click:function(i){return e.change(t,n)}}},[i("a",[i("i",{class:t.icon}),e._v(" "),i("div",[e._v(e._s(t.name))])])])}),0)])},staticRenderFns:[]};var a={filters:{priceSwitch:function(e){var t=parseFloat(e);if(isNaN(t))return!1;var i=(t=Math.round(100*e)/100).toString(),n=i.indexOf(".");for(n<0&&(n=i.length,i+=".");i.length<n+1+2;)i+="0";var o,s=i.split(".")[0],r="."+i.split(".")[1],c=new Array;if(s.length>3){for(var a=!0;a;)c.push(s.slice(-3)),(s=s.slice(0,s.length-3)).length<4&&(a=!1);var d=new Array;for(a=c.length-1;a>=0;a--)d.push(c[a]);o=s+","+d.join(",")+r}else o=i;return o}},components:{Foot:i("VU/8")(r,c,!1,function(e){i("xi1k")},null,null).exports}};t.a=a},eC21:function(e,t){},gWPi:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("NW8W"),o=(i.n(n),i("0C+S")),s=(i.n(o),i("eC21")),r=(i.n(s),i("7+uW")),c=i("U/rD"),a=i("TFhR"),d=i("mtWM"),h=i.n(d);new r.default({el:".container",data:{lists:null,total:0,totalNumber:0,editingShop:null,editingIndex:-1,removePopup:!1,removeData:null},computed:{allSelected:{get:function(){return!(!this.lists||!this.lists.length)&&this.lists.every(function(e){return e.checked})},set:function(e){this.lists.forEach(function(t){t.checked=e,t.goodsList.forEach(function(t){t.checked=e})})}},allRemoveSelected:{get:function(){return!!this.editingShop&&this.editingShop.removeChecked},set:function(e){this.editingShop&&(this.editingShop.removeChecked=e,this.editingShop.goodsList.forEach(function(t){t.removeChecked=e}))}},selectList:function(){var e=[];if(this.lists&&this.lists.length){var t=0,i=0;this.lists.forEach(function(n){n.goodsList.forEach(function(n){n.checked&&(e.push(n),t+=n.price*n.number,i+=n.number)})}),this.total=t,this.totalNumber=i}return e},removeList:function(){var e=[];return this.editingShop&&this.editingShop.goodsList.forEach(function(t){t.removeChecked&&e.push(t)}),e}},created:function(){this.getLists()},methods:{getLists:function(){var e=this;h.a.get(a.a.cartLists).then(function(t){var i=t.data.cartList;i.forEach(function(e){e.checked=!0,e.removeChecked=!1,e.editing=!1,e.editingMsg="编辑",e.goodsList.forEach(function(e){e.checked=!0,e.removeChecked=!1})}),e.lists=i})},selectGood:function(e,t){var i=this.editingShop?"removeChecked":"checked";t[i]=!t[i],e[i]=e.goodsList.every(function(e){return e[i]})},selectShop:function(e){var t=this.editingShop?"removeChecked":"checked";e[t]=!e[t],e.goodsList.forEach(function(i){i[t]=e[t]})},selectAll:function(){var e=this.editingShop?"allRemoveSelected":"allSelected";this[e]=!this[e]},edit:function(e,t){e.editing=!e.editing,e.editingMsg=e.editing?"完成":"编辑",this.lists.forEach(function(i,n){t!=n&&(i.editing=!1,i.editingMsg=e.editing?"":"编辑")}),this.editingShop=e.editing?e:null,this.editingIndex=e.editing?t:-1},reduce:function(e){1!=e.number&&h.a.post(a.a.cartReduce,{id:e.id,number:1}).then(function(t){e.number--})},add:function(e){h.a.post(a.a.addCart,{id:e.id,number:1}).then(function(t){e.number++})},remove:function(e,t,i,n){this.removePopup=!0,this.removeData={shop:e,shopIndex:t,good:i,goodIndex:n}},removeConfirm:function(){var e=this,t=this.removeData,i=t.shop,n=t.shopIndex,o=t.good,s=t.goodIndex;h.a.post(a.a.cartRemove,{id:o.id}).then(function(t){i.goodsList.splice(s,1),i.goodsList.length||(e.lists.splice(n,1),e.removeShop()),e.removePopup=!1})},removeShop:function(){this.editingShop=null,this.editingIndex=-1,this.lists.forEach(function(e){e.editing=!1,e.editingMsg="编辑"})}},mixins:[c.a]})},xi1k:function(e,t){}},["gWPi"]);
//# sourceMappingURL=cart.88b730defab80d737205.js.map